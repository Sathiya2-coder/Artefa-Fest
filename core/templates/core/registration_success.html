{% extends 'base.html' %}
{% load static %}

{% block title %}Portal Entry Confirmed - ARTIFA FEST{% endblock %}

{% block extra_css %}
<style>
    /* Stranger Things Theme - Consistent Color System */
    :root {
        --background: 0 0% 2%;
        --foreground: 0 0% 96%;
        --card: 0 0% 7%;
        --primary: 0 92% 48%;
        --secondary: 220 22% 14%;
        --muted-foreground: 220 12% 65%;
        --border: 220 18% 22%;
        --stranger-yellow: 45 98% 80%;
        --stranger-orange: 25 96% 56%;
        --stranger-green: 160 84% 39%;
        --stranger-blue: 220 94% 58%;
    }

    body {
        padding-top: 0 !important;
        background: hsl(var(--background)) !important;
        position: relative;
        overflow-x: hidden;
    }

    /* Ambient Lighting Effect */
    .ambient-light {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
        opacity: 0.1;
    }

    .light-particle {
        position: absolute;
        width: 300px;
        height: 300px;
        border-radius: 50%;
        filter: blur(60px);
        animation: float 20s infinite linear;
    }

    .light-red {
        background: radial-gradient(circle, hsl(0 92% 48% / 0.3), transparent 70%);
        top: 20%;
        left: 10%;
        animation-delay: 0s;
    }

    .light-blue {
        background: radial-gradient(circle, hsl(220 94% 58% / 0.2), transparent 70%);
        top: 60%;
        right: 15%;
        animation-delay: -5s;
        animation-duration: 25s;
    }

    .light-green {
        background: radial-gradient(circle, hsl(142 76% 60% / 0.15), transparent 70%);
        bottom: 10%;
        left: 50%;
        animation-delay: -10s;
        animation-duration: 30s;
    }

    @keyframes float {
        0%, 100% {
            transform: translate(0, 0) rotate(0deg);
        }
        25% {
            transform: translate(100px, -50px) rotate(90deg);
        }
        50% {
            transform: translate(-50px, 100px) rotate(180deg);
        }
        75% {
            transform: translate(-100px, -50px) rotate(270deg);
        }
    }

    main {
        position: relative;
        z-index: 10;
        padding-top: 210px;
    }

    /* Success Hero */
    .success-hero {
        position: relative;
        padding: 120px 0 60px;
        background: linear-gradient(135deg, 
            hsl(var(--stranger-dark) / 0.95), 
            hsl(var(--secondary) / 0.95));
        color: hsl(var(--foreground));
        overflow: hidden;
        text-align: center;
        border-bottom: 3px solid hsl(var(--primary));
    }

    .success-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 50% 30%, hsl(142 76% 36% / 0.1) 0%, transparent 50%),
            radial-gradient(circle at 30% 70%, hsl(var(--primary) / 0.1) 0%, transparent 50%);
        animation: portal-open 2s ease-out;
    }

    @keyframes portal-open {
        0% {
            transform: scale(0.5);
            opacity: 0;
        }
        100% {
            transform: scale(1);
            opacity: 1;
        }
    }

    .success-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 3.5rem;
        font-weight: 900;
        margin-bottom: 1rem;
        text-transform: uppercase;
        letter-spacing: 4px;
        background: linear-gradient(135deg, 
            hsl(142 76% 36%), 
            hsl(142 76% 60%),
            hsl(142 76% 36%));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 0 30px hsl(142 76% 36% / 0.5);
        position: relative;
        display: inline-block;
        animation: success-glow 3s ease-in-out infinite alternate;
    }

    @keyframes success-glow {
        0% {
            text-shadow: 0 0 20px hsl(142 76% 36% / 0.7),
                         0 0 40px hsl(142 76% 36% / 0.5);
        }
        100% {
            text-shadow: 0 0 30px hsl(142 76% 36% / 0.8),
                         0 0 60px hsl(142 76% 36% / 0.6);
        }
    }

    .success-subtitle {
        font-size: 1.5rem;
        color: hsl(var(--stranger-yellow));
        opacity: 0.9;
    }

    /* Success Card */
    .success-card {
        background: linear-gradient(145deg, hsl(0 0% 7%), hsl(220 18% 10%));
        border: 2px solid hsl(142 76% 36%);
        border-radius: 20px;
        padding: 50px;
        position: relative;
        overflow: hidden;
        text-align: center;
        transition: all 0.4s ease;
        animation: card-enter 0.8s ease-out;
    }

    @keyframes card-enter {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .success-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(90deg, hsl(142 76% 36%), hsl(142 76% 60%));
        animation: border-glow 3s ease-in-out infinite alternate;
    }

    @keyframes border-glow {
        0% { opacity: 0.7; }
        100% { opacity: 1; }
    }

    .success-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 50px hsl(142 76% 36% / 0.3);
    }

    .success-icon {
        font-size: 5rem;
        color: hsl(142 76% 60%);
        margin-bottom: 30px;
        filter: drop-shadow(0 0 20px hsl(142 76% 60% / 0.5));
        animation: icon-bounce 2s ease-in-out infinite;
    }

    @keyframes icon-bounce {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-20px) scale(1.1); }
    }

    .success-heading {
        font-family: 'Orbitron', sans-serif;
        font-size: 2rem;
        font-weight: 700;
        color: hsl(142 76% 60%);
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .success-text {
        font-size: 1.2rem;
        color: hsl(var(--foreground));
        line-height: 1.8;
        margin-bottom: 25px;
    }

    /* Details Section */
    .details-section {
        background: hsl(var(--secondary) / 0.3);
        border: 2px solid hsl(var(--border));
        border-radius: 15px;
        padding: 30px;
        margin: 40px 0;
        text-align: left;
        transition: all 0.3s ease;
    }

    .details-section:hover {
        border-color: hsl(var(--primary));
        transform: translateX(5px);
    }

    .details-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.3rem;
        font-weight: 700;
        color: hsl(var(--primary));
        margin-bottom: 25px;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .details-title i {
        color: hsl(var(--primary));
        filter: drop-shadow(0 0 5px hsl(var(--primary) / 0.5));
    }

    .details-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .detail-item {
        background: hsl(var(--background) / 0.3);
        border: 1px solid hsl(var(--border));
        border-radius: 10px;
        padding: 20px;
        transition: all 0.3s ease;
    }

    .detail-item:hover {
        border-color: hsl(142 76% 60%);
        transform: translateY(-5px);
        box-shadow: 0 10px 20px hsl(142 76% 60% / 0.1);
    }

    .detail-label {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: hsl(var(--muted-foreground));
        margin-bottom: 8px;
    }

    .detail-value {
        font-size: 1.1rem;
        font-weight: 700;
        color: hsl(var(--foreground));
    }

    /* Event Badge */
    .event-badge {
        display: inline-block;
        padding: 8px 20px;
        border-radius: 20px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.9rem;
        transition: all 0.3s ease;
    }

    .badge-technical {
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(0 100% 45%));
        color: hsl(0 0% 100%);
    }

    .badge-nontech {
        background: linear-gradient(135deg, hsl(var(--stranger-yellow)), hsl(var(--stranger-orange)));
        color: hsl(var(--background));
    }

    .event-badge:hover {
        transform: scale(1.1);
        box-shadow: 0 5px 15px hsl(0 0% 0% / 0.3);
    }

    /* Team Info */
    .team-info {
        background: hsl(var(--primary) / 0.1);
        border: 2px solid hsl(var(--primary) / 0.3);
        border-radius: 15px;
        padding: 25px;
        margin-top: 30px;
        transition: all 0.3s ease;
    }

    .team-info:hover {
        border-color: hsl(var(--primary));
        background: hsl(var(--primary) / 0.15);
    }

    .team-password {
        font-family: 'Courier New', monospace;
        background: hsl(var(--background));
        border: 1px solid hsl(var(--border));
        border-radius: 8px;
        padding: 12px;
        color: hsl(142 76% 60%);
        letter-spacing: 2px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .team-password:hover {
        background: hsl(var(--background) / 0.8);
        border-color: hsl(142 76% 60%);
        box-shadow: 0 0 15px hsl(142 76% 60% / 0.2);
    }

    /* Action Buttons */
    .action-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 40px;
        flex-wrap: wrap;
    }

    .action-btn {
        padding: 16px 35px;
        border-radius: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        text-decoration: none;
        position: relative;
        overflow: hidden;
    }

    .action-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, hsl(0 100% 100% / 0.2), transparent);
        transition: left 0.6s ease;
    }

    .action-btn:hover::before {
        left: 100%;
    }

    .action-btn:hover {
        transform: translateY(-5px);
    }

    .btn-success {
        background: linear-gradient(135deg, hsl(142 76% 36%), hsl(142 76% 60%));
        color: hsl(0 0% 100%);
        border: none;
    }

    .btn-success:hover {
        box-shadow: 0 10px 25px hsl(142 76% 60% / 0.3);
    }

    .btn-outline {
        background: transparent;
        border: 2px solid hsl(var(--primary));
        color: hsl(var(--primary));
    }

    .btn-outline:hover {
        background: hsl(var(--primary) / 0.1);
        box-shadow: 0 10px 25px hsl(var(--primary) / 0.2);
    }

    /* Next Steps */
    .steps-section {
        padding: 80px 0;
        background: hsl(var(--background));
    }

    .steps-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 2rem;
        font-weight: 700;
        color: hsl(var(--primary));
        margin-bottom: 50px;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .steps-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
    }

    .step-card {
        background: linear-gradient(145deg, hsl(0 0% 7%), hsl(220 18% 10%));
        border: 2px solid hsl(var(--border));
        border-radius: 15px;
        padding: 30px;
        text-align: center;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
    }

    .step-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: linear-gradient(to bottom, hsl(var(--primary)), hsl(var(--stranger-orange)));
        transition: transform 0.3s ease;
    }

    .step-card:hover {
        transform: translateY(-10px);
        border-color: hsl(var(--primary));
        box-shadow: 0 16px 48px hsl(0 92% 48% / .25);
    }

    .step-card:hover::before {
        transform: scaleY(1.2);
    }

    .step-number {
        display: inline-block;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--stranger-orange)));
        color: hsl(0 0% 100%);
        border-radius: 50%;
        font-family: 'Orbitron', sans-serif;
        font-size: 1.5rem;
        font-weight: 900;
        line-height: 50px;
        margin-bottom: 20px;
    }

    .step-title {
        font-size: 1.3rem;
        font-weight: 700;
        color: hsl(var(--foreground));
        margin-bottom: 15px;
    }

    .step-desc {
        color: hsl(var(--muted-foreground));
        line-height: 1.6;
    }

    /* Countdown Timer */
    .countdown-section {
        padding: 60px 0;
        background: hsl(var(--secondary) / 0.3);
        text-align: center;
        border-radius: 20px;
        margin: 40px 0;
    }

    .countdown-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
        color: hsl(var(--stranger-yellow));
        margin-bottom: 30px;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .countdown-timer {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
    }

    .countdown-item {
        background: hsl(var(--background) / 0.5);
        border: 2px solid hsl(var(--border));
        border-radius: 10px;
        padding: 20px 15px;
        min-width: 100px;
        transition: all 0.3s ease;
    }

    .countdown-item:hover {
        border-color: hsl(var(--primary));
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 10px 20px hsl(var(--primary) / 0.2);
    }

    .countdown-value {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.5rem;
        font-weight: 900;
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--stranger-yellow)));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        line-height: 1;
        margin-bottom: 8px;
    }

    .countdown-label {
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: hsl(var(--muted-foreground));
    }

    /* Share Section */
    .share-section {
        padding: 60px 0;
        background: linear-gradient(135deg, hsl(var(--primary) / 0.9), hsl(0 100% 45% / 0.9));
        border-radius: 20px;
        margin-top: 40px;
    }

    .share-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.8rem;
        font-weight: 700;
        color: hsl(0 0% 100%);
        margin-bottom: 30px;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .share-buttons {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .share-btn {
        padding: 12px 25px;
        background: hsl(var(--background));
        color: hsl(var(--primary));
        border: none;
        border-radius: 50px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px;
    }

    .share-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px hsl(0 0% 0% / 0.2);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .success-hero {
            padding: 80px 0 40px;
        }

        .success-title {
            font-size: 2.5rem;
            letter-spacing: 2px;
        }

        .success-subtitle {
            font-size: 1.2rem;
        }

        .success-card {
            padding: 30px;
        }

        .details-grid {
            grid-template-columns: 1fr;
        }

        .action-buttons {
            flex-direction: column;
            align-items: center;
        }

        .action-btn {
            width: 100%;
            max-width: 300px;
            justify-content: center;
        }

        .steps-grid {
            grid-template-columns: 1fr;
        }

        .countdown-item {
            min-width: 80px;
            padding: 15px 10px;
        }

        .countdown-value {
            font-size: 2rem;
        }
    }

    @media (max-width: 576px) {
        .success-title {
            font-size: 2rem;
        }

        .success-icon {
            font-size: 4rem;
        }

        .success-heading {
            font-size: 1.5rem;
        }

        .share-buttons {
            flex-direction: column;
            align-items: center;
        }

        .share-btn {
            width: 100%;
            max-width: 250px;
            justify-content: center;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Ambient Lighting -->
<div class="ambient-light">
    <div class="light-particle light-red"></div>
    <div class="light-particle light-blue"></div>
    <div class="light-particle light-green"></div>
</div>

<!-- Success Hero -->
<section class="success-hero">
    <div class="container">
        <h1 class="success-title">
            <i class="fas fa-portal-enter"></i> PORTAL ENTRY CONFIRMED
        </h1>
        <p class="success-subtitle">Welcome to the Upside Down, Explorer!</p>
    </div>
</section>

<!-- Main Content -->
<section class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <!-- Success Card -->
            <div class="success-card mb-5">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                
                <h2 class="success-heading">Interdimensional Access Granted</h2>
                
                <p class="success-text">
                    Your coordinates have been successfully recorded in the interdimensional registry. 
                    The portal to ARTIFA FEST is now open for you!
                </p>
                
                <!-- Details Section -->
                <div class="details-section">
                    <h3 class="details-title">
                        <i class="fas fa-info-circle"></i> Your Portal Entry Details
                    </h3>
                    
                    <div class="details-grid">
                        <div class="detail-item">
                            <div class="detail-label">Explorer Name</div>
                            <div class="detail-value">{{ registration.full_name|default:"Alex Chen" }}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Register Number</div>
                            <div class="detail-value">{{ registration.register_number|default:"21AID001" }}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Email</div>
                            <div class="detail-value">{{ registration.email|default:"alex@college.edu" }}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Registration ID</div>
                            <div class="detail-value">#ART{{ registration.id|default:"2026001"|stringformat:"07d" }}</div>
                        </div>
                    </div>
                    
                    <h4 class="details-title" style="font-size: 1.1rem; margin-top: 30px;">
                        <i class="fas fa-portal-enter"></i> Selected Portal
                    </h4>
                    
                    <div class="detail-item" style="text-align: center;">
                        <div class="detail-label">Event</div>
                        <div class="detail-value" style="margin-bottom: 15px;">
                            {{ registration.event.name|default:"Code Demogorgon" }}
                        </div>
                        <span class="event-badge {% if registration.event.event_type == 'technical' or not registration.event %}badge-technical{% else %}badge-nontech{% endif %}">
                            {{ registration.event.event_type|default:"Technical"|title }}
                        </span>
                    </div>
                    
                    {% if registration and registration.team_name %}
                    <!-- Team Information -->
                    <div class="team-info">
                        <h4 class="details-title" style="font-size: 1.1rem; margin: 0;">
                            <i class="fas fa-users"></i> Team Information
                        </h4>
                        
                        <div class="details-grid" style="margin-top: 20px;">
                            <div class="detail-item">
                                <div class="detail-label">Team Name</div>
                                <div class="detail-value">{{ registration.team_name }}</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Team Members</div>
                                <div class="detail-value">{{ registration.team_members|default:"TBD" }}</div>
                            </div>
                            {% if team_password %}
                            <div class="detail-item">
                                <div class="detail-label">Team Password</div>
                                <div class="detail-value team-password">
                                    {{ team_password }}
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}
                </div>
                
                <!-- Confirmation Note -->
                <div class="details-section" style="background: hsl(142 76% 36% / 0.1); border-color: hsl(142 76% 36%);">
                    <div class="details-title" style="color: hsl(142 76% 60%);">
                        <i class="fas fa-envelope-open-text"></i> Confirmation Sent
                    </div>
                    <p style="color: hsl(var(--foreground)); margin-bottom: 0; line-height: 1.6;">
                        A portal confirmation message has been dispatched to your interdimensional communicator 
                        <strong>{{ registration.email|default:"your email" }}</strong>. 
                        Keep it safe for reference.
                    </p>
                </div>
                
                <!-- Action Buttons -->
                <div class="action-buttons">
                    {% if registration and registration.team_name %}
                    <a href="{% url 'team_details' registration.id %}" class="action-btn btn-success">
                        <i class="fas fa-users-crown"></i> View Team Portal
                    </a>
                    {% endif %}
                    <a href="{% url 'home' %}" class="action-btn btn-outline">
                        <i class="fas fa-home"></i> Return to Home Base
                    </a>
                </div>
            </div>
            
            <!-- Next Steps -->
            <div class="steps-section">
                <h2 class="steps-title">Your Journey Ahead</h2>
                
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h3 class="step-title">Confirmation Email</h3>
                        <p class="step-desc">
                            Check your email within 24 hours for your portal access details and QR code.
                        </p>
                    </div>
                    
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h3 class="step-title">Prepare Your Gear</h3>
                        <p class="step-desc">
                            Review event requirements and ensure you have all necessary equipment ready.
                        </p>
                    </div>
                    
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h3 class="step-title">Team Coordination</h3>
                        <p class="step-desc">
                            Connect with your team members and strategize for the upcoming challenges.
                        </p>
                    </div>
                    
                    <div class="step-card">
                        <div class="step-number">4</div>
                        <h3 class="step-title">Event Day Arrival</h3>
                        <p class="step-desc">
                            Arrive 30 minutes early with your college ID and confirmation for portal entry.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Countdown Timer -->
            <div class="countdown-section">
                <h2 class="countdown-title">Portal Opens In</h2>
                
                <div class="countdown-timer">
                    <div class="countdown-item">
                        <div class="countdown-value" id="days">00</div>
                        <div class="countdown-label">Days</div>
                    </div>
                    
                    <div class="countdown-item">
                        <div class="countdown-value" id="hours">00</div>
                        <div class="countdown-label">Hours</div>
                    </div>
                    
                    <div class="countdown-item">
                        <div class="countdown-value" id="minutes">00</div>
                        <div class="countdown-label">Minutes</div>
                    </div>
                    
                    <div class="countdown-item">
                        <div class="countdown-value" id="seconds">00</div>
                        <div class="countdown-label">Seconds</div>
                    </div>
                </div>
                
                <p style="color: hsl(var(--muted-foreground)); margin-top: 20px; font-size: 0.9rem;">
                    <i class="fas fa-calendar-day me-2"></i>
                    February 7, 2026 â€¢ 9:00 AM
                </p>
            </div>
            
            <!-- Share Section -->
            <div class="share-section">
                <h2 class="share-title">
                    <i class="fas fa-share-alt me-3"></i>Share the Adventure
                </h2>
                <p style="color: hsl(0 0% 100% / 0.9); text-align: center; margin-bottom: 30px; font-size: 1.1rem;">
                    Know other explorers who might want to join the Upside Down? Invite them to register before portals close!
                </p>
                <div class="share-buttons">
                    <a href="#" class="share-btn">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </a>
                    <a href="#" class="share-btn">
                        <i class="fab fa-telegram"></i> Telegram
                    </a>
                    <a href="#" class="share-btn">
                        <i class="fas fa-envelope"></i> Email
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Countdown Timer
        const eventDate = new Date('February 7, 2026 09:00:00').getTime();
        
        function updateCountdown() {
            const now = new Date().getTime();
            const timeLeft = eventDate - now;
            
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            
            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
            
            if (timeLeft < 0) {
                clearInterval(countdownInterval);
                document.querySelector('.countdown-title').textContent = 'The Portal Is Open!';
                document.querySelectorAll('.countdown-item').forEach(item => {
                    item.querySelector('.countdown-value').textContent = '00';
                });
            }
        }
        
        updateCountdown();
        const countdownInterval = setInterval(updateCountdown, 1000);
        
        // Step cards animation on scroll
        const observerOptions = {
            threshold: 0.2,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.step-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.6s ease';
            observer.observe(card);
        });
        
        // Add click effects to action buttons
        document.querySelectorAll('.action-btn').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(255, 255, 255, 0.3)';
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                
                this.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            });
        });
        
        // Add keyframe for ripple animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Add hover sound effect (optional)
        const hoverSound = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==');
        
        document.querySelectorAll('.countdown-item, .step-card, .action-btn').forEach(element => {
            element.addEventListener('mouseenter', function() {
                // You can add a subtle sound effect here if desired
                // hoverSound.play();
            });
        });
    });
</script>
{% endblock %}
{% endblock %}